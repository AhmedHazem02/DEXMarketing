# ๐ ุชูุฑูุฑ ุงููุญุต ุงูุดุงูู โ DEX ERP

**ุชุงุฑูุฎ ุงููุญุต:** 17 ูุจุฑุงูุฑ 2026  
**ุงูุฅุตุฏุงุฑ:** Next.js 16.1.4 + Supabase + React 19  
**ุญุงูุฉ ุงูุจูุงุก (Build):** โ ูุงุฌุญ โ ุจุฏูู ุฃุฎุทุงุก TypeScript

---

## ููุฎุต ุณุฑูุน

| ุงูุฎุทูุฑุฉ | ุงูุนุฏุฏ | ุงููุณุจุฉ |
|---------|-------|--------|
| ๐ด **ุญุฑุฌุฉ (Critical)** | 6 | 8% |
| ๐ **ุนุงููุฉ (High)** | 18 | 24% |
| ๐ก **ูุชูุณุทุฉ (Medium)** | 25 | 33% |
| ๐ข **ููุฎูุถุฉ (Low)** | 17 | 22% |
| โช **ูุนูููุงุชูุฉ (Info)** | 10 | 13% |
| **ุงูุฅุฌูุงูู** | **76** | 100% |

---

## ๐ด ูุดุงูู ุญุฑุฌุฉ (Critical) โ ุชุญุชุงุฌ ุฅุตูุงุญ ููุฑู

### C-01: ุนุฏู ูุฌูุฏ ุชุญูู ูู ุงูุตูุงุญูุงุช ูู Server Actions
**ุงูููู:** `src/lib/actions/users.ts`  
**ุงููุตู:** ุฌููุน ุงูุฏูุงู (`createUser`, `updateProfile`, `updateEmail`, `updatePassword`, `deleteAccount`) ุชูุจู `userId` ููุนุงูู ูุชุณุชุฎุฏู Admin Client (Service Role Key) ุจุฏูู ุงูุชุญูู ูู ูููุฉ ุงููุณุชุฎุฏู ุงููููุฐ. ุฃู ูุณุชุฎุฏู ูุณุฌู ุฏุฎูู ููููู:
- ุฅูุดุงุก ุญุณุงุจุงุช admin
- ุชุนุฏูู ุจูุงูุงุช ุฃู ูุณุชุฎุฏู ุขุฎุฑ
- ุชุบููุฑ ูููุฉ ูุฑูุฑ ุฃู ูุณุชุฎุฏู
- ุญุฐู ุฃู ุญุณุงุจ

**ุงูุญู:** ุฅุถุงูุฉ ุชุญูู ูู ุงููููุฉ ูู ุจุฏุงูุฉ ูู ุฏุงูุฉ:
```ts
const supabase = await createClient();
const { data: { user } } = await supabase.auth.getUser();
if (!user) return { success: false, error: 'Unauthorized' };
const { data: profile } = await supabase.from('users').select('role').eq('id', user.id).single();
if (profile?.role !== 'admin') return { success: false, error: 'Forbidden' };
```

---

### C-02: ูููุฉ ูุฑูุฑ ุงูุชุฑุงุถูุฉ ุถุนููุฉ
**ุงูููู:** `src/lib/actions/users.ts` โ ุงูุณุทุฑ 40  
**ุงููุตู:** ุนูุฏ ุฅูุดุงุก ูุณุชุฎุฏู ุฌุฏูุฏ ุจุฏูู ูููุฉ ูุฑูุฑุ ูุชู ุงุณุชุฎุฏุงู `'12345678'` ููููุฉ ูุฑูุฑ ุงูุชุฑุงุถูุฉ.  
**ุงูุญู:** ุงุณุชุฎุฏุงู `inviteUserByEmail` ูู Supabase ุฃู ุชูููุฏ ูููุฉ ูุฑูุฑ ุนุดูุงุฆูุฉ ูููุฉ.

---

### C-03: ุญูู ููุงุชุฑ PostgREST (Filter Injection)
**ุงููููุงุช:**
- `src/hooks/use-clients.ts` (ุณุทุฑ 37)
- `src/hooks/use-tasks.ts` (ุณุทุฑ 79-81)
- `src/hooks/use-schedule.ts` (ุณุทุฑ 60)
- `src/hooks/use-projects.ts` (ุณุทุฑ 43)

**ุงููุตู:** ูููุฉ ุงูุจุญุซ ูู ุงููุณุชุฎุฏู ุชูุฏุฎู ูุจุงุดุฑุฉ ูู `.or()` ุจุฏูู ุชูุธูู:
```ts
`company.ilike.%${filters.search}%,name.ilike.%${filters.search}%`
```
ููุงุฌู ููููู ุฅุฏุฎุงู ุฃููุงุณ ุฃู ููุงุตู ููุชูุงุนุจ ุจุงูููุชุฑ.  
**ุงูุญู:** ุชูุธูู ุงููุฏุฎูุงุช ุจุฅุฒุงูุฉ ุงูุฃุญุฑู ุงูุฎุงุตุฉ `(`, `)`, `,`, `.`, `%` ุฃู ุงุณุชุฎุฏุงู `.ilike()` ุนูู ูู ุนููุฏ ูููุฑุฏุงู.

---

### C-04: Admin Client ุจุฏูู ุญูุงูุฉ ูู ุงูุชุญููู ุนูู ุฌูุฉ ุงูุนููู
**ุงูููู:** `src/lib/supabase/admin.ts`  
**ุงููุตู:** ุงูููู ูุง ูุญุชูู ุนูู `import 'server-only'`. ุฅุฐุง ุชู ุงุณุชูุฑุงุฏู ุนู ุทุฑูู ุงูุฎุทุฃ ูู client componentุ ุณูุชู ุชุณุฑูุจ Service Role Key ูููุชุตูุญ.  
**ุงูุญู:** ุฅุถุงูุฉ `import 'server-only'` ูู ุฃูู ุณุทุฑ.

---

### C-05: ุนุฏู ูุฌูุฏ `error.tsx` ูู ุฃู ุตูุญุฉ
**ุงููููุงุช ุงููุชุฃุซุฑุฉ:** ุฌููุน ุงููุณุงุฑุงุช ูู `src/app/[locale]/`  
**ุงููุตู:** ูุง ููุฌุฏ ุฃู ููู `error.tsx` ูู ุงููุดุฑูุน. ุฃู ุฎุทุฃ ูู ุฃู component ุณูุคุฏู ูุธููุฑ ุดุงุดุฉ ุจูุถุงุก ุฃู ุตูุญุฉ ุฎุทุฃ Next.js ุงูุงูุชุฑุงุถูุฉ.  
**ุงูุญู:** ุฅุถุงูุฉ `error.tsx` ูู:
- `src/app/[locale]/error.tsx`
- `src/app/[locale]/(dashboard)/error.tsx`

---

### C-06: ุณูุงุณุฉ ุฅุฏุฎุงู ุงูุฅุดุนุงุฑุงุช ููุชูุญุฉ ููุฌููุน
**ุงูููู:** `supabase/FIX_NOTIFICATIONS_RLS.sql` โ ุงูุณุทูุฑ 38-41  
**ุงููุตู:** `WITH CHECK (true)` ุชุณูุญ ูุฃู ูุณุชุฎุฏู ูุณุฌู ุจุฅุฏุฎุงู ุฅุดุนุงุฑุงุช ูุฃู ูุณุชุฎุฏู ุขุฎุฑ. ููุงุฌู ููููู ุฅุฑุณุงู ุฅุดุนุงุฑุงุช ุชุตูุฏ (phishing) ุจุฑูุงุจุท ุฎุจูุซุฉ.  
**ุงูุญู:** ุชูููุฏ INSERT ุจู `auth.uid() = user_id`.

---

## ๐ ูุดุงูู ุนุงููุฉ ุงูุฎุทูุฑุฉ (High)

### H-01: ูุง ููุฌุฏ ูููุงุช `loading.tsx`
**ุงููุตู:** ูุง ููุฌุฏ ุฃู `loading.tsx` ูู ุงููุดุฑูุน. ุงูุชููู ุจูู ุตูุญุงุช ุงูุฏุงุดุจูุฑุฏ ูุง ูุธูุฑ ุฃู ูุคุดุฑ ุชุญููู.  
**ุงูุญู:** ุฅุถุงูุฉ `loading.tsx` ูู ูุฌููุนุฉ `(dashboard)`.

---

### H-02: ูุง ููุฌุฏ Error Boundaries ูู Client Components
**ุงููุตู:** Components ูุซู `AdminDashboardClient`, `ChatLayout`, `KanbanBoard`, `ScheduleCalendar` ููุณ ูุฏููุง Error Boundaries. ุฎุทุฃ ูู ุฃู ูุณู ูุคุฏู ูุงูููุงุฑ ุงูุตูุญุฉ ุจุงููุงูู.  
**ุงูุญู:** ุฅูุดุงุก `ErrorBoundary` component ูุงุณุชุฎุฏุงูู ูุชุบููู ุงูุฃูุณุงู ุงูุฑุฆูุณูุฉ.

---

### H-03: ุนุจุงุฑุงุช `console.log` ูู ููุฏ ุงูุฅูุชุงุฌ
**ุงููููุงุช:**
- `src/components/schedule/schedule-calendar.tsx` โ 6 ุนุจุงุฑุงุช (ุณุทูุฑ 230-248)
- `src/hooks/use-schedule.ts` โ 4 ุนุจุงุฑุงุช (ุณุทูุฑ 231-253)

**ุงููุตู:** ุชุณุฑุจ ูุนุฑูุงุช ุงููุณุชุฎุฏููู ูุจูุงูุงุช ุงูุฅุฏุฎุงู ุงููุงููุฉ ูู ูุญุฏุฉ ุชุญูู ุงููุชุตูุญ.  
**ุงูุญู:** ุญุฐู ุฌููุน `console.log` ุฃู ุชูููุฏูุง ุจู `process.env.NODE_ENV === 'development'`.

---

### H-04: ูุดููุฉ N+1 Query ูู ุงูุฏุฑุฏุดุฉ
**ุงูููู:** `src/hooks/use-chat.ts`
- **ุณุทูุฑ 62-97:** `useConversations` ูุฌุฑู ุงุณุชุนูุงููู ุฅุถุงูููู ููู ูุญุงุฏุซุฉ (ุขุฎุฑ ุฑุณุงูุฉ + ุนุฏุฏ ุบูุฑ ุงูููุฑูุกุฉ). 50 ูุญุงุฏุซุฉ = 100 ุทูุจ ุฅุถุงูู.
- **ุณุทูุฑ 258-284:** `useUnreadCount` ูุชูุฑุฑ ุนูู ูู ุงููุญุงุฏุซุงุช ุจุทูุจ ูููุตู.

**ุงูุญู:** ุงุณุชุฎุฏุงู `.in('conversation_id', convIds)` ูุฌูุจ ุงูุจูุงูุงุช ุฏูุนุฉ ูุงุญุฏุฉ.

---

### H-05: ูููุฐุฌ ุงูุงุชุตุงู ูููู (ูุง ูุนูู)
**ุงูููู:** `src/components/landing/contact-section.tsx` โ ุณุทูุฑ 50-56  
**ุงููุตู:** `handleSubmit` ูุณุชุฎุฏู `setTimeout` ููุท ุจุฏูู ุฅุฑุณุงู ุงูุจูุงูุงุช ูุนููุงู. ูุธูุฑ "ุชู ุงูุฅุฑุณุงู ุจูุฌุงุญ" ุจุฏูู ุฅุฑุณุงู ุฃู ุดูุก.  
**ุงูุญู:** ุฑุจุท ุงููููุฐุฌ ุจู API endpoint ุฃู server action ูุนูู.

---

### H-06: ูุตูุต Arabic ููุชูุจุฉ ูุจุงุดุฑุฉ ูู ุงูููุฏ (ุจุฏูู i18n)
**ุงููููุงุช ุงููุชุฃุซุฑุฉ:**
- `src/components/admin/users-table.tsx` โ ูู ุงููุตูุต
- `src/components/admin/admin-dashboard-client.tsx` โ ูู ุงููุตูุต
- `src/components/admin/add-user-dialog.tsx` โ ูู ุงููุตูุต
- `src/components/tasks/task-form.tsx` โ ุฑุณุงุฆู ุงูุชุญูู
- `src/components/client/request-form.tsx` โ ุฑุณุงุฆู ุงูุชุญูู

**ุงููุตู:** ุฌููุน ูุฐู ุงููููุงุช ุชุญุชูู ุนูู ูุตูุต ุนุฑุจูุฉ ููุชูุจุฉ ูุจุงุดุฑุฉ ุจุฏูู ุงุณุชุฎุฏุงู `useTranslations()`. ุงููุณุชุฎุฏู ุงูุฅูุฌููุฒู ุณูุฑู ูุตูุต ุนุฑุจูุฉ.  
**ุงูุญู:** ููู ุฌููุน ุงููุตูุต ุฅูู ูููุงุช ุงูุชุฑุฌูุฉ ูุงุณุชุฎุฏุงู `t()`.

---

### H-07: ูุตูุต English ููุชูุจุฉ ูุจุงุดุฑุฉ ูู forgot-password
**ุงูููู:** `src/components/auth/forgot-password-form.tsx` โ ุณุทูุฑ 56-91  
**ุงููุตู:** "Check your email", "Send Reset Link", "Back to Login" ููุชูุจุฉ ุจุงูุฅูุฌููุฒู ุจุฏูู ุชุฑุฌูุฉ.

---

### H-08: ููุชุงุญ `settings` ููููุฏ ูู ุงูุชุฑุฌูุฉ ุงูุนุฑุจูุฉ
**ุงููููุงุช:** `src/i18n/messages/en.json` ูุญุชูู ุนูู `"settings"` ูููู ููููุฏ ูู `ar.json`.

---

### H-09: ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ (Landing Page) ุจุฏูู Metadata/SEO
**ุงูููู:** `src/app/[locale]/page.tsx`  
**ุงููุตู:** ุฃูู ุตูุญุฉ ููู SEO ููุณ ููุง `generateMetadata`. ุชุฑุซ ููุท ุงูุนููุงู ุงูุนุงู "DEX ERP".

---

### H-10: ูุง ููุฌุฏ ุญูุงูุฉ ูููุณุงุฑุงุช ูู Middleware
**ุงูููู:** `src/proxy.ts` โ ุณุทูุฑ 12-51  
**ุงููุตู:** ุงูู Middleware ูุง ูุชุญูู ูู ุชุณุฌูู ุงูุฏุฎูู. ูู ุงูุทูุจุงุช ุชูุฑ ูุชููุฐ React render ูุงูู ูุจู ุฅุนุงุฏุฉ ุงูุชูุฌูู (ูู layout).  
**ุงูุญู:** ุฅุถุงูุฉ ูุญุต auth ูู ุงูู middleware ูููุณุงุฑุงุช ุงููุญููุฉ.

---

### H-11: ุฌุฏุงูู ุจุฏูู ุณูุงุณุงุช RLS
**ุงูููู:** `supabase/schema.sql`
| ุงูุฌุฏูู | ุงููุดููุฉ |
|--------|---------|
| `clients` | RLS ููุนููุ ูุง ุชูุฌุฏ ุณูุงุณุงุช ูู ุงูู schema ุงูุฃุณุงุณู |
| `projects` | RLS ููุนููุ ูุง ุชูุฌุฏ ุณูุงุณุงุช INSERT/UPDATE/DELETE |
| `attachments` | RLS ููุนููุ ูุง ุชูุฌุฏ ุณูุงุณุงุช ุฅุทูุงูุงู |
| `comments` | RLS ููุนููุ ูุง ุชูุฌุฏ ุณูุงุณุงุช ุฅุทูุงูุงู |

**ุงูุญู:** ุฅุถุงูุฉ ุณูุงุณุงุช RLS ููุงุณุจุฉ ููู ุฌุฏูู.

---

### H-12: ุนุฏู ูุฌูุฏ ุชุญูู ูู ุงููุฏุฎูุงุช ูู Server Actions
**ุงูููู:** `src/lib/actions/users.ts`  
**ุงููุตู:** ูุง ููุฌุฏ ุชุญูู ูู ุตูุบุฉ ุงูุจุฑูุฏ ุงูุฅููุชุฑูููุ ููุฉ ูููุฉ ุงููุฑูุฑุ ุทูู ุงูุงุณู.  
**ุงูุญู:** ุงุณุชุฎุฏุงู Zod ููุชุญูู ูู ุงููุฏุฎูุงุช.

---

### H-13: ุชุญุฏูุซ ุงูุญุงูุฉ ุจุนุฏ ุฅูุบุงุก ุชุญููู Component
**ุงูููู:** `src/hooks/use-auth-dashboard-link.ts` โ ุณุทูุฑ 34-63  
**ุงููุตู:** `useEffect` ูุญุชูู ุนูู `.then()` chains ุจุฏูู ุฅูุบุงุก. ุฅุฐุง ุชู ุฅูุบุงุก ุชุญููู Component ูุจู ุงูุงูุชูุงุกุ ูุญุฏุซ state update ุนูู component ุบูุฑ ููุฌูุฏ.  
**ุงูุญู:** ุงุณุชุฎุฏุงู `isMounted` flag ุฃู `AbortController`.

---

## ๐ก ูุดุงูู ูุชูุณุทุฉ ุงูุฎุทูุฑุฉ (Medium)

### M-01: Side effect ุฏุงุฎู `useMemo`
**ุงูููู:** `src/hooks/use-pagination.ts` โ ุณุทูุฑ 90-93  
**ุงููุตู:** ูุชู ุงุณุชุฏุนุงุก `setCurrentPage(1)` ุฏุงุฎู `useMemo`. Side effects ูุฌุจ ุฃู ุชููู ูู `useEffect`.

---

### M-02: ุงุณุชุฏุนุงุก `.select()` ูุฒุฏูุฌ
**ุงูููู:** `src/hooks/use-cms.ts` โ ุณุทูุฑ ูุชุนุฏุฏุฉ  
**ุงููุตู:** ุจุนุถ ุงูุงุณุชุนูุงูุงุช ุชุญุชูู ุนูู `.select().select('*')` ููุฑุฑ.

---

### M-03: `useTypingIndicator` ูุง ููุญุฏูุซ ุงููุงุฌูุฉ
**ุงูููู:** `src/hooks/use-chat.ts` โ ุณุทูุฑ 354-376  
**ุงููุตู:** ูุณุชุฎุฏู `useRef` ุจุฏูุงู ูู `useState`ุ ูุงูุชุบููุฑุงุช ูุง ุชุณุจุจ ุฅุนุงุฏุฉ render.

---

### M-04: Missing dependencies ูู useEffect
**ุงูููู:** `src/hooks/use-realtime.ts`  
**ุงููุตู:** `supabase` ู `queryClient` ู `queryKey` ูุญุฐููุฉ ูู dependency array ูุน eslint-disable.

---

### M-05: ูุญุต WebGL ููุบู tier ุฃุนูู
**ุงูููู:** `src/hooks/useDeviceCapabilities.ts` โ ุณุทูุฑ 30-35  
**ุงููุตู:** ูุญุต WebGL ูุนูู ุจุนุฏ ุชุญุฏูุฏ tier ูู CPU/Memory ูููููู ุชุฎููุถ 'high' ุฅูู 'potato'.

---

### M-06: ุชุนุงุฑุถ ูุน R3F animation loop
**ุงูููู:** `src/hooks/usePageVisibility.ts` โ ุณุทุฑ 10  
**ุงููุตู:** ุงุณุชุฏุนุงุก ูุจุงุดุฑ ูู `gl.setAnimationLoop(null)` ูุชุนุงุฑุถ ูุน React Three Fiber.

---

### M-07: ุญูู ูููุฉ ุงููุฑูุฑ ูุธูุฑ ููุต ุนุงุฏู
**ุงูููู:** `src/components/admin/add-user-dialog.tsx` โ ุณุทุฑ 143  
**ุงููุตู:** ุญูู ูููุฉ ุงููุฑูุฑ ูุณุชุฎุฏู `type="text"` ุจุฏูุงู ูู `type="password"`.

---

### M-08: ูุง ููุฌุฏ `generateMetadata` ูู ุตูุญุงุช ุงูุฏุงุดุจูุฑุฏ
**ุงููููุงุช:** 40+ ุตูุญุฉ ูู `src/app/[locale]/(dashboard)/`  
**ุงููุตู:** ุนูุงููู ุงูุชุจููุจุงุช ูู ุงููุชุตูุญ ุบูุฑ ูุตููุฉ.

---

### M-09: Metadata ุงูุฌุฐุฑ ูุงูุตุฉ
**ุงูููู:** `src/app/[locale]/layout.tsx`  
**ุงููุตู:** ุชุญุชูู ููุท ุนูู `title` ู `description`. ููููุฏ: `keywords`, `openGraph`, `twitter`, `robots`, `manifest`, `icons`.

---

### M-10: ุฅุนุงุฏุฉ ุฅูุดุงุก `formSchema` ูู ูู render
**ุงูููู:** `src/components/auth/login-form.tsx` โ ุณุทูุฑ 33-36  
**ุงููุตู:** Zod schema ููุนุฑูู ุฏุงุฎู Component ูููุนุงุฏ ุฅูุดุงุคู ูู ูุฑุฉ.

---

### M-11: Hero Section ุชูุดุฆ ุนูุงุตุฑ ูุชุญุฑูุฉ ูุซูุฑุฉ
**ุงูููู:** `src/components/landing/hero-section.tsx`  
**ุงููุตู:** 20 ุฌุณูู + 5 ุฎุทูุท ุถูุฆูุฉ + 3 ุฎุทูุท ุนููุฏูุฉ ุจุญุฑูุงุช ูุง ููุงุฆูุฉ. ุจุฏูู ุชูููู ุนูู ุงูุฃุฌูุฒุฉ ุงูุถุนููุฉ.

---

### M-12: Footer ูุฌูุจ ุจูุงูุงุช CMS ูู ูู ุชุญููู
**ุงูููู:** `src/components/landing/footer.tsx` โ ุณุทูุฑ 39-53  
**ุงููุตู:** ุทูุจ Supabase ูู `useEffect` ุนูู ูู mount. ุงูู Footer ููุฌูุฏ ูู ูู ุตูุญุฉ.

---

### M-13: ุชูุฑุงุฑ ููุทู ุชุณุฌูู ุงูุฎุฑูุฌ ูู 3 ุฃูุงูู
**ุงููููุงุช:**
- `src/components/layout/sidebar.tsx`
- `src/components/layout/header.tsx`
- `src/components/layout/mobile-sidebar.tsx`

**ุงูุญู:** ููู ุงูููุทู ูู custom hook ูุดุชุฑู.

---

### M-14: Treasury Balance Trigger ูุง ูุนุงูุฌ UPDATE/DELETE
**ุงูููู:** `supabase/schema.sql` โ ุณุทูุฑ 155-167  
**ุงููุตู:** `update_treasury_balance()` ูุนูู ููุท ุนูู `AFTER INSERT`. ุชุนุฏูู ุฃู ุญุฐู ูุนุงููุฉ ูุฌุนู ุงูุฑุตูุฏ ุบูุฑ ุฏููู.

---

### M-15: ุณูุงุณุงุช RLS ูุชุถุงุฑุจุฉ ุนุจุฑ ูููุงุช FIX
**ุงููููุงุช:** ุนุฏุฉ ูููุงุช FIX ูู `supabase/`  
**ุงููุตู:** ููุณ ุงูุณูุงุณุฉ ุชูุญุฐู ูุชูุนุงุฏ ุฅูุดุงุคูุง ูู ูููุงุช ูุฎุชููุฉ. ุชุดุบูููุง ุจุชุฑุชูุจ ุฎุงุทุฆ ูุณุจุจ ูุดุงูู.

---

### M-16: `user_role` ENUM ุบูุฑ ููุชูู ูู ุงูู schema ุงูุฃุณุงุณู
**ุงูููู:** `supabase/schema.sql` โ ุณุทุฑ 8  
**ุงููุตู:** ูุญุชูู ุนูู 5 ุฃุฏูุงุฑ ููุท. migrations ูุงุญูุฉ ุชุถูู `videographer`, `editor`, `photographer`, `account_manager`, `designer`.

---

### M-17: ุฏูุงู `SECURITY DEFINER` ุจุฏูู `SET search_path`
**ุงููููุงุช:** ุนุฏุฉ trigger functions ูู `supabase/schema.sql`  
**ุงููุตู:** ุซุบุฑุฉ ุฃูููุฉ ูุนุฑููุฉ ูู PostgreSQL โ ูููู ุชุฌุงูุฒ ุงูุฏูุงู ุนุจุฑ schema ูุฎุชูู.

---

### M-18: `downloadFile` ูุง ูุชุนุงูู ูุน SSR
**ุงูููู:** `src/lib/export-utils.ts` โ ุณุทุฑ 220  
**ุงููุตู:** ูุณุชุฎุฏู `document.createElement` ุจุฏูู ูุญุต `typeof window !== 'undefined'`.

---

### M-19: ูุง ููุฌุฏ rate limiting ุนูู ููุงุฐุฌ ุงููุตุงุฏูุฉ
**ุงููููุงุช:** `login-form.tsx`, `forgot-password-form.tsx`  
**ุงููุตู:** ูููู ุฅุฑุณุงู ุทูุจุงุช ูุชูุฑุฑุฉ ุจุณุฑุนุฉ ุจุฏูู ุญุฏ.

---

### M-20: `x-pathname` Header ูุด ููู RBAC
**ุงูููู:** `src/proxy.ts` โ ุณุทุฑ 50  
**ุงููุตู:** ุงูุงุนุชูุงุฏ ุนูู header ููุญุต ุงูุตูุงุญูุงุช โ ุฃู CDN ุฃู proxy ููููู ุชุนุฏููู.

---

### M-21: Silent catch ุนูู `getUser()` ูู ุงูู Middleware
**ุงูููู:** `src/proxy.ts` โ ุณุทูุฑ 43-47  
**ุงููุตู:** ูู ุญุงูุฉ ุนุฏู ุชููุฑ Supabaseุ ูุง ูุชู ุชุญุฏูุซ ุงูู cookie ููุง ูุชู ุญุธุฑ ุงูุฏุฎูู.

---

### M-22: ุญุฐู ุงููุณุชุฎุฏู ูุณุชุฎุฏู `window.confirm()`
**ุงูููู:** `src/components/admin/users-table.tsx` โ ุณุทุฑ 70  
**ุงููุตู:** ูุฌุจ ุงุณุชุฎุฏุงู `AlertDialog` ุงูููุฌูุฏ ุจุฏูุงู ูู `confirm()` ุงูููุนูู.

---

### M-23: ุฃุฒุฑุงุฑ ุฃููููุงุช ุจุฏูู `aria-label`
**ุงููููุงุช ุงููุชุฃุซุฑุฉ:**
- `users-table.tsx` โ ุฒุฑ ุงููุงุฆูุฉ
- `kanban-board.tsx` โ ุฒุฑ ุงููููุฉ
- `header.tsx` โ ุญูู ุงูุจุญุซ

---

### M-24: Tasks ูุง ุชููู ุณูุงุณุฉ DELETE
**ุงูููู:** `supabase/schema.sql` โ ุณุทูุฑ 283-300

---

### M-25: Redirect paths ุจุฏูู locale
**ุงูููู:** `src/app/[locale]/(dashboard)/layout.tsx` โ ุณุทุฑ 57  
**ุงููุตู:** `redirect('/login')` ุจุฏูู ุจุงุฏุฆุฉ ุงููุบุฉ ูุฏ ูุณุจุจ 404.

---

## ๐ข ูุดุงูู ููุฎูุถุฉ ุงูุฎุทูุฑุฉ (Low)

### L-01: Throttle ูููุฏ ุงูููุงููุงุช ุงูุฃุฎูุฑุฉ
**ุงูููู:** `src/hooks/use-throttle.ts` โ ุณุทูุฑ 14-23

### L-02: ุงุณุชุฎุฏุงู ูุงุณุน ูู `as any` ู `as unknown`
**ุงููููุงุช:** ุฃูุซุฑ ูู 40 assertion ุนุจุฑ hooks ูุชุนุฏุฏุฉ.  
**ุงูุญู:** ุชุญุฏูุซ ุฃููุงุน Supabase ุจุนุฏ ุชุทุจูู ุฌููุน ุงูู migrations.

### L-03: ุชูุงุฑูุฑ ุฎุทุฃ ุถุนููุฉ ูู Cloudinary
**ุงูููู:** `src/lib/cloudinary.ts` โ ุณุทุฑ 31  
**ุงููุตู:** ุฑุณุงูุฉ ุฎุทุฃ ุนุฑุจูุฉ ุนุงูุฉ ุจุฏูู ุชูุงุตูู ุงูุฎุทุฃ ุงูุฃุตูู.

### L-04: ููู ุงูุชุฑุงุถูุฉ ูุถูููุฉ ูู Cloudinary
**ุงูููู:** `src/lib/cloudinary.ts` โ ุณุทูุฑ 5-6  
**ุงููุตู:** `CLOUDINARY_CLOUD_NAME` ูุชุฑุงุฌุน ุฅูู `'demo'`.

### L-05: Non-null assertions ุนูู ูุชุบูุฑุงุช ุงูุจูุฆุฉ
**ุงููููุงุช:** `admin.ts`, `client.ts`, `server.ts` ูู `src/lib/supabase/`

### L-06: `@ts-ignore` ูุชุนุฏุฏุฉ ูู users.ts
**ุงูููู:** `src/lib/actions/users.ts`

### L-07: `getSiteSettings()` ูุนุทููุฉ
**ุงูููู:** `src/lib/actions/get-site-settings.ts`  
**ุงููุตู:** ุชูุฑุฌุน ุฏุงุฆูุงู ููู ุงูุชุฑุงุถูุฉ ุจุณุจุจ ูุดููุฉ RLS.

### L-08: `STATUS_CONFIG` ููููุฏ ูููุง `client_review`
**ุงูููู:** `src/lib/constants/admin.ts`

### L-09: `PresenceState` type ููุนุฑูู ููู ุบูุฑ ูุณุชุฎุฏู
**ุงูููู:** `src/types/chat.ts`

### L-10: `Database.Enums` ูุงูุตุฉ
**ุงูููู:** `src/types/database.ts`

### L-11: `useRouter` ูุณุชูุฑุฏ ููู ุบูุฑ ูุณุชุฎุฏู
**ุงูููู:** `src/components/auth/forgot-password-form.tsx`

### L-12: ุงุณุชุฎุฏุงู index ูู key ูู ุงูููุงุฆู
**ุงููููุงุช:** `footer.tsx`, `space-elements.tsx`

### L-13: ุตูุฑ ุจุฏูู ูุต ุจุฏูู (alt text)
**ุงูููู:** `src/components/admin/admin-dashboard-client.tsx`

### L-14: ููุงุฐุฌ ุงุชุตุงู ุจุฏูู `autocomplete`
**ุงูููู:** `src/components/landing/contact-section.tsx`

### L-15: `setAll` ูุจูุน ุงูุฃุฎุทุงุก ุจุฏูู ุชุณุฌูู
**ุงูููู:** `src/lib/supabase/server.ts` โ ุณุทูุฑ 21-23

### L-16: ุตูุญุชุงู landing ูุชุดุงุจูุชุงู
**ุงููููุงุช:** `src/app/[locale]/page.tsx` ู `src/app/[locale]/(website)/page.tsx`

### L-17: Components ุจุฏูู `displayName`
**ุงููููุงุช:** ุนุฏุฉ components memoized

---

## โช ููุงุญุธุงุช ูุนูููุงุชูุฉ (Info)

| # | ุงูููุงุญุธุฉ |
|---|---------|
| I-01 | ุงูุนููุฉ ูุซุจุชุฉ ุนูู EGP ูู ุงูุซูุงุจุช |
| I-02 | `reactStrictMode: false` โ ูุนุทูู ูููุน ุฎุทุฃ `navigator.locks` |
| I-03 | `dangerouslySetInnerHTML` ูุณุชุฎุฏู ูู CSS keyframes (ุขูู โ ููู ุซุงุจุชุฉ) |
| I-04 | API route ูุงุญุฏ ููุท (`auth/callback`) โ ูู ุงูุนูููุงุช ุนุจุฑ Supabase ูุจุงุดุฑุฉ |
| I-05 | `console.error` ููุนุงูุฌ ุฃุณุงุณู ููุฃุฎุทุงุก (30+ ููุงู) โ ูุฌุจ ุงุณุชุฎุฏุงู Sentry |
| I-06 | `FIX_CONVERSATION_PARTICIPANTS_RLS.sql` ูุตูุญ RLS ูุชูุฑุฑ |
| I-07 | Security headers ููุฑุฑุฉ ุจูู `next.config.ts` ู `vercel.json` |
| I-08 | `@types/jspdf` v1.3.3 ูู devDependencies โ jspdf v4 ูุญุชูู ุฃููุงุนู |
| I-09 | Cron job `/api/cron/cleanup` ููุนุฑูู ูู `vercel.json` ููู ูุง ููุฌุฏ ููู API route ูู |
| I-10 | `jsx: "react-jsx"` ูู `tsconfig.json` โ Next.js ูุณุชุฎุฏู `"preserve"` ุนุงุฏุฉู |

---

## ๐ ุชุฑุชูุจ ุงูุฅุตูุงุญุงุช ุงูููุชุฑุญ (ุญุณุจ ุงูุฃููููุฉ)

### ุฃููููุฉ 1 โ ุฃูููุฉ ุญุฑุฌุฉ (ูุฌุจ ุฅุตูุงุญูุง ููุฑุงู)
1. โ ุฅุถุงูุฉ ุชุญูู ูู ุงูุตูุงุญูุงุช (Authorization) ูู ุฌููุน Server Actions โ `C-01`
2. โ ุฅุถุงูุฉ `import 'server-only'` ูู `admin.ts` โ `C-04`
3. โ ุฅุฒุงูุฉ ูููุฉ ุงููุฑูุฑ ุงูุงูุชุฑุงุถูุฉ `12345678` โ `C-02`
4. โ ุชูููุฏ ุณูุงุณุฉ INSERT ููุฅุดุนุงุฑุงุช โ `C-06`
5. โ ุชูุธูู ูุฏุฎูุงุช ุงูุจุญุซ (Filter Injection) โ `C-03`

### ุฃููููุฉ 2 โ ุงุณุชูุฑุงุฑ ูุชุฌุฑุจุฉ ุงููุณุชุฎุฏู
6. ุฅุถุงูุฉ `error.tsx` ู `loading.tsx` โ `C-05`, `H-01`
7. ุฅุถุงูุฉ Error Boundaries โ `H-02`
8. ุญุฐู `console.log` ูู ููุฏ ุงูุฅูุชุงุฌ โ `H-03`
9. ุฅุตูุงุญ ูููุฐุฌ ุงูุงุชุตุงู โ `H-05`
10. ุชุบููุฑ ุญูู ูููุฉ ุงููุฑูุฑ ูู `type="password"` โ `M-07`

### ุฃููููุฉ 3 โ ุงูุชุฏููู (i18n)
11. ููู ุงููุตูุต ุงูุนุฑุจูุฉ ุงููุจุงุดุฑุฉ ููููุงุช ุงูุชุฑุฌูุฉ โ `H-06`
12. ุฅุถุงูุฉ ููุชุงุญ `settings` ุงูููููุฏ ูู `ar.json` โ `H-08`
13. ุชุฑุฌูุฉ ูุตูุต forgot-password โ `H-07`

### ุฃููููุฉ 4 โ ูุงุนุฏุฉ ุงูุจูุงูุงุช
14. ุฅุถุงูุฉ ุณูุงุณุงุช RLS ููุฌุฏุงูู ุงูููููุฏุฉ โ `H-11`
15. ุฅุตูุงุญ Treasury Balance Trigger โ `M-14`
16. ุฅุถุงูุฉ `SET search_path` ููุฏูุงู โ `M-17`
17. ุชูุญูุฏ ูููุงุช FIX ูุชุฑุชูุจูุง โ `M-15`

### ุฃููููุฉ 5 โ ุงูุฃุฏุงุก
18. ุฅุตูุงุญ N+1 ูู ุงูุฏุฑุฏุดุฉ โ `H-04`
19. ุชุญุณูู Footer ูุงุณุชุฎุฏุงู server-side data โ `M-12`
20. ุชุญุณูู Hero Section ููุฃุฌูุฒุฉ ุงูุถุนููุฉ โ `M-11`

### ุฃููููุฉ 6 โ SEO
21. ุฅุถุงูุฉ Metadata ููุตูุญุฉ ุงูุฑุฆูุณูุฉ โ `H-09`
22. ุฅุถุงูุฉ Metadata ูุตูุญุงุช ุงูุฏุงุดุจูุฑุฏ โ `M-08`
23. ุฅููุงู Metadata ุงูุฌุฐุฑ โ `M-09`

### ุฃููููุฉ 7 โ ุฌูุฏุฉ ุงูููุฏ
24. ููู ููุทู ุชุณุฌูู ุงูุฎุฑูุฌ ูู custom hook โ `M-13`
25. ุชุญุฏูุซ ุฃููุงุน Supabase โ `L-02`
26. ุญุฐู ุงูุงุณุชูุฑุงุฏุงุช ุบูุฑ ุงููุณุชุฎุฏูุฉ โ `L-11`

---

## โ ููุงุท ููุฉ ุงููุดุฑูุน

| ุงูููุทุฉ | ุงูุชูุงุตูู |
|--------|---------|
| โ **ุงูุจูุงุก ูุงุฌุญ** | ูุง ุฃุฎุทุงุก TypeScript |
| โ **Security Headers** | ุชูููู ุดุงูู (HSTS, X-Frame-Options, etc.) |
| โ **Image Optimization** | AVIF + WebP + Cache 30 ููู |
| โ **i18n Infrastructure** | next-intl ููุนุฏ ุจุดูู ุตุญูุญ |
| โ **React Query** | TanStack Query ููู caching ูุงูู state management |
| โ **Radix UI** | ููุชุจุฉ UI ูุชุงุญุฉ (accessible) |
| โ **Supabase SSR** | ุชูููู ุตุญูุญ ููู cookies |
| โ **Type Safety** | TypeScript strict mode ููุนูู |
| โ **Performance Config** | `optimizePackageImports`, `compress`, image optimization |
| โ **ุจููุฉ ุงููุดุฑูุน** | ููุธูุฉ ุจุดูู ุฌูุฏ (hooks, lib, components, types) |
